(()=>{var e={524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(81),a=n.n(r),o=n(645),i=n.n(o),l=n(667),s=n.n(l),c=new URL(n(95),n.b),p=new URL(n(158),n.b),d=new URL(n(203),n.b),u=new URL(n(581),n.b),h=new URL(n(629),n.b),f=new URL(n(556),n.b),g=new URL(n(699),n.b),m=i()(a()),v=s()(c),b=s()(p),y=s()(d),x=s()(u),w=s()(h),k=s()(f),E=s()(g);m.push([e.id,"@media only screen and (max-width: 480px){.hidden-mobile-portrait{display:none}}@media only screen and (min-width: 481px) and (max-width: 668px){.hidden-mobile-landscape{display:none}}@media only screen and (max-width: 480px){.leaflet-top.leaflet-left{padding-top:37px}}@media only screen and (min-width: 481px) and (max-width: 668px){.leaflet-top.leaflet-left{padding-top:37px}}.mobile-map-menu-wrapper{position:absolute;top:4px;right:7px}.mobile-map-menu-btn-wrapper{display:inline-block;padding-left:3px}.mobile-map-menu-button{height:30px;width:30px;background:#6682a9;border-radius:5px;cursor:pointer}.mobile-map-menu-button img{width:30px;padding:3px}.graph-elem{border-bottom:1px solid #282828;padding:20px 15px}@media only screen and (max-width: 480px){.graph-elem{padding-bottom:40px}}@media only screen and (min-width: 481px) and (max-width: 668px){.graph-elem{padding-bottom:40px}}.graph-elem .pan-to-marker-btn{padding:5px;font-size:1em;border:1px solid #282828;border-radius:5px;margin-right:12px}.graph-elem .pan-to-marker-btn.animate{animation-name:graph-elem-animate;animation-duration:.5s;animation-timing-function:ease-in-out;animation-iteration-count:1}.graph-elem svg{position:relative;height:100%}@keyframes graph-elem-animate{50.0%{background-color:orange}}.graphs-active #map{cursor:crosshair}.timeseries-graph,.overlapping-graph,.polar-graph{display:none}.graph-timeseries .timeseries-graph{display:block}.js-plotly-plot .plotly .modebar{display:flex}.graph-overlapping .overlapping-graph{display:block}.graph-polar .polar-graph{display:flex}.graph-loading .timeseries-graph,.graph-loading .overlapping-graph,.graph-loading .polar-graph{display:none}.graph-loading .graph-loading-div{display:block;background-image:url("+v+')}.graph-loading-div{display:none;position:relative;width:100%;height:0;padding-bottom:47.9%;background-repeat:no-repeat;background-position:50%;background-size:40px;text-align:center}.graph-loading-div:after{position:absolute;content:"Loading Graph";bottom:30%;left:0;right:0;font-size:14px;text-transform:uppercase;color:#666}div.tooltip{position:absolute;text-align:center;width:80px;height:28px;padding:2px;font:12px sans-serif;background:lightsteelblue;border:0px;border-radius:8px;pointer-events:none;z-index:100}div.tooltip:after{width:0;height:0;position:absolute;border-left:4px solid transparent;border-right:4px solid transparent;border-top:8px solid lightsteelblue;bottom:-8px;left:40px;content:"";z-index:100}path.domain{stroke:transparent}path{stroke:steelblue;stroke-width:1px;fill:none}.frame{fill:none;stroke:#000}.center-line{stroke:#ea0c48;stroke-width:4px}.center-line.line--thresholdsactive{stroke:#578fe3}.growing-season-line{stroke:#e28c0b;stroke-width:1px}.line--thresholdsactive{stroke-dasharray:3 2}.center--thresholdsactive{fill:#578fe3}.graph-elem{position:relative}.graph-elem div{clear:both}.remove-graph{float:right;background:transparent;color:#f31616;font-size:19px;padding:2px 6px;border:1px solid #f31616;border-radius:4px;cursor:pointer}.input-wrapper{display:inline-block;vertical-align:top;width:15%}@media only screen and (max-width: 480px){.input-wrapper{width:100%}}@media only screen and (min-width: 481px) and (max-width: 668px){.input-wrapper{width:100%}}.input-wrapper div{margin-top:2px}@media only screen and (max-width: 480px){.input-wrapper>div{display:inline-block;margin-right:15px;margin-top:5px}}@media only screen and (min-width: 481px) and (max-width: 668px){.input-wrapper>div{display:inline-block;margin-right:15px;margin-top:5px}}.input-wrapper label{font-size:13px;padding-left:5px;cursor:pointer}.input-wrapper input{cursor:pointer}.input-wrapper label,.input-wrapper input{vertical-align:middle}.graph-lat-lon{display:inline-block;font-size:15px}.graph-pip-example{display:inline-block;width:7px;height:7px;border:1px solid black;border-radius:50%;vertical-align:middle;margin-left:4px}.d3-tip{z-index:100}.polar-legend-wrapper{display:flex;padding-left:40px;padding-top:20px}.polar-legend-header{font-size:1.2em}.polar-legend-pheno-wrapper{border-right:1px solid black;max-width:90px;max-height:427px}.polar-legend-calendar-header{max-width:65px;text-align:left;padding-left:4px;border-bottom:1px solid black}.polar-legend-pheno-header-buffer{height:8px}.polar-legend-pheno-boxes-wrapper{text-align:right;float:right;max-width:66px}.polar-legend-pheno-header{padding-right:4px;text-align:right;border-bottom:1px solid black}.pheno-select-wrapper-all-years{margin-top:35px;width:155px;float:right}.container{display:block;position:relative;padding-left:20px;padding-right:30px;cursor:pointer;font-size:1.3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark{position:absolute;top:0;right:0;background-color:#eee;border-left:1px solid black;border-top:1px solid black;border-bottom:1px solid black}.checkmark:after{content:"";position:absolute;display:none}.container input:checked ~ .checkmark:after{display:block}.container .checkmark:after{left:6px;top:1px;width:8px;height:13px;border:solid white;border-width:0 4px 4px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.checkbox{padding-right:20px}.layer-group-btn{padding-top:12px;padding-bottom:12px;padding-left:35px;position:relative}.layer-group{border-top:1px solid #282828}.layer-select{border-bottom:1px solid #282828;display:none}.layer-group-wrapper.active .layer-select{display:block;width:100%;position:relative;color:#22333B;padding-top:12px;padding-right:8px;padding-bottom:13px;padding-left:15px}.layer-group-wrapper.active .layer-select:nth-child(even){background-color:#b7cff6}.layer-group-wrapper.active .layer-select:nth-child(odd){background-color:#c4d8f7}.layer-label-wrapper{display:inline-block;vertical-align:top;max-width:85%}.layer-select input{margin-right:5px;width:20px;height:20px;cursor:pointer}.layer-label,.layer-info-btn{font:15px sans-serif;font-weight:bold;vertical-align:top;cursor:pointer;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.layer-info-btn-wrapper{display:inline-block;float:right}.layer-info-btn-wrapper .layer-info-icon{width:26px;height:26px}.layer-info-btn-wrapper .layer-info-icon:hover{cursor:pointer}.download-btn-wrapper{padding-left:5px;display:inline-block;float:right}.download-btn-wrapper .download-icon{width:26px;height:26px}.download-btn-wrapper .download-icon:hover{cursor:pointer}.layer-info-wrapper{display:none}.layer-info-wrapper.active{display:block;margin:5px 0px 0px 0px;font:13px sans-serif;font-weight:bold}.legend-wrapper img{width:75%}.layer-tools-wrapper{display:none}.layer-tools-wrapper.active{display:block;position:relative;margin-top:35px;width:100%;min-height:120px}.legend-wrapper{display:inline-block}.legend-wrapper img{height:100%}.opacity-slider-wrapper{display:inline-block;height:100%;vertical-align:top;position:absolute;right:0px}.opacity-slider-wrapper .opacity-slider-track-overlay{display:inline-block;position:relative;width:20px;height:100px;top:-5px;cursor:pointer}.opacity-slider-wrapper .opacity-slider-track{display:inline-block;width:2px;height:calc(100% - 10px);background-color:black;position:relative;top:5px;left:9px}.opacity-slider-wrapper .opacity-slider-handle{display:inline-block;border:0.5px solid #282828;border-radius:2px;background-color:#6682a9;width:20px;height:10px;position:absolute;right:0px}.opacity-slider-wrapper .opacity-icon-wrapper{display:block;position:relative}.opacity-slider-wrapper .opacity-icon-wrapper .opacity-icon{width:20px;height:20px;cursor:pointer}.opacity-slider-wrapper .opacity-icon-wrapper .opacity-icon.closed{margin-top:-5px}#right-panel{background-color:white;position:absolute;right:0;top:0;height:100%;padding-top:55px;border-left:1px solid #282828;vertical-align:top;overflow-x:hidden;z-index:10}#right-panel.graphs-active{padding-top:105px;min-width:730px;width:730px}#right-panel.layers-active{min-width:465px;width:465px}#right-panel.about-active{min-width:465px;width:465px}@media only screen and (max-width: 480px){#right-panel{width:100% !important;min-width:100% !important;height:50% !important;padding-top:40px !important;padding-bottom:37px !important;border-left:0;bottom:0;top:inherit}}@media only screen and (min-width: 481px) and (max-width: 668px){#right-panel{width:50% !important;min-width:50% !important;padding-top:72px !important;padding-bottom:37px !important}}@media only screen and (max-width: 480px){.mobile-menu-hidden #map-wrapper{height:100%;padding-bottom:37px}}@media only screen and (min-width: 481px) and (max-width: 668px){.mobile-menu-hidden #map-wrapper{width:100%;height:100%;padding-bottom:37px}}@media only screen and (max-width: 480px){.mobile-menu-hidden #right-panel{height:37px !important;padding-top:0 !important;padding-bottom:0 !important}}@media only screen and (min-width: 481px) and (max-width: 668px){.mobile-menu-hidden #right-panel{width:100% !important;min-width:100% !important;height:37px !important;padding-top:0 !important;padding-bottom:0 !important;border-left:0;bottom:0;top:inherit}}@media only screen and (max-width: 480px){.mobile-menu-hidden #right-panel-header,.mobile-menu-hidden .panel-section-wrapper.active{display:none}}@media only screen and (min-width: 481px) and (max-width: 668px){.mobile-menu-hidden #right-panel-header,.mobile-menu-hidden .panel-section-wrapper.active{display:none}}#right-panel-drag-overlay{z-index:5;height:inherit;padding:5px;position:absolute}@media only screen and (max-width: 480px){#right-panel-drag-overlay{display:none}}@media only screen and (min-width: 481px) and (max-width: 668px){#right-panel-drag-overlay{display:none}}#right-panel-header{border-bottom:1px solid #282828;width:inherit;height:55px;position:fixed;top:0;z-index:10;transform:translateZ(0)}@media only screen and (max-width: 480px){#right-panel-header{top:50%;border-top:1px solid #282828;height:40px}}@media only screen and (min-width: 481px) and (max-width: 668px){#right-panel-header{top:37px;height:40px}}#graphs-header-wrapper{position:fixed;width:inherit;height:50px;top:55px;padding-top:10px;border-bottom:3px solid #282828;background:#fff;z-index:5;transform:translateZ(0)}@media only screen and (max-width: 480px){#graphs-header-wrapper{position:relative;top:0}}@media only screen and (min-width: 481px) and (max-width: 668px){#graphs-header-wrapper{position:relative;top:0}}#graph-type-header{position:absolute;bottom:0}.graph-type-info{display:none}.graph-type-info.active{display:block;font-size:16px;padding:20px;border-bottom:1px solid #282828}.panel-section-wrapper{display:none}.panel-section-wrapper.active{display:inline-block;position:relative;width:100%}#layer-list-wrapper.active #layer-list{display:inline-block;width:100%}#layer-list-wrapper #layer-list{display:none}#graphs-wrapper{max-height:100%}.graph-list{max-height:inherit}.btn{cursor:pointer;background-color:#6682a9;font-size:16px;font-weight:bold;color:#fff;letter-spacing:.75px;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:hover{background-color:#6f8aae}.btn.active{background-color:#7a9ac7}.panel-btn{display:inline-block;height:100%;width:33.333%;vertical-align:top;text-align:center;border-right:1px solid #282828}.panel-btn:last-child{border-right:0}.panel-top-btn{position:relative}.panel-top-btn.active:before{content:" ";position:absolute;bottom:-12px;left:47%;margin-left:-1px;width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:12px solid #282828;z-index:10}.panel-top-btn.active:first-child:before{margin-left:0}@media only screen and (max-width: 480px){.panel-top-btn.active:last-child:before{margin-left:0}}.panel-top-btn.active:after{content:" ";position:absolute;bottom:-10px;left:48%;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #7a9ac7;z-index:100}.btn-middle-align-ghost{height:100%;padding-bottom:3px}.btn-middle-align-ghost div,.btn-middle-align-ghost:before{display:inline-block;vertical-align:middle}.btn-middle-align-ghost:before{width:.05%;height:100%;content:" "}.btn-middle-align-ghost div{width:99.5%}.layer-group-btn{padding-right:8px}.layer-group-btn:before{content:" ";width:12px;height:20px;display:inline-block;background-size:22px 11px;position:absolute;left:10px;top:14px;background-repeat:no-repeat;background-position:4px 1px;background-image:url('+b+')}.layer-group-wrapper.active .layer-group-btn:before{content:" ";background-position:-7px 2px;width:15px}.graph-type-btn{background:#fff;width:auto;padding-top:0;padding-left:15px;padding-right:15px;margin:0 10px -3px;box-sizing:content-box;border-right:none;color:#111;text-shadow:none;font-weight:normal;font-size:16px;height:34px;line-height:36px}@media only screen and (max-width: 480px){.graph-type-btn{font-size:14px;padding-left:10px;padding-right:10px;margin:0 7px -3px}}@media only screen and (min-width: 481px) and (max-width: 668px){.graph-type-btn{font-size:12px;padding-left:5px;padding-right:5px;margin:0 5px -3px}}.graph-type-btn:hover{background:#fff;color:#6f8aae;border-bottom:3px solid #6f8aae}.graph-type-btn.active{background:#fff;color:#7a9ac7;border-bottom:3px solid #7a9ac7}#about-text{padding:15px;font-size:16px;color:#333}#about-text h3{font-size:24px;background-image:repeating-linear-gradient(180deg, transparent, transparent 24px, #333 25px);padding-bottom:15px}#about-text p{padding-bottom:15px;line-height:1.5em}#about-text ul{padding:0 0 15px 20px}#about-text li{margin-bottom:5px}#about-text a{cursor:pointer;color:#f69232}.about-icon{width:auto;height:16px}.map-menu-wrapper{position:absolute;top:15px;right:15px;z-index:1000}.map-menu-wrapper button{cursor:pointer;border-radius:5px;font-size:14px;color:#fff;background:#363636;background-repeat:no-repeat;display:inline-block}.panel-active .panel-inactive-text{display:none}.panel-active #hide-menu-button:hover{background-image:url('+y+")}.panel-inactive .panel-active-text{display:none}.panel-inactive #hide-menu-button{background-image:url("+x+")}.panel-inactive #hide-menu-button:hover{background-image:url("+w+")}@media only screen and (min-width: 769px){.panel-inactive #map-wrapper{width:100% !important;padding-right:0 !important}.panel-inactive #right-panel{display:none !important}}.map-menu-btn-wrapper{padding-left:5px;display:inline-block}#clear-map-button{padding:6px 10px 8px 30px;background-position:5%;background-size:25px;background-image:url("+k+")}#toggle-panel-button{padding:6px 10px 8px 30px;background-size:30px;background-image:url("+E+")}.leaflet-control-geosearch .leaflet-bar-part{border-radius:4px;border-bottom:none}.leaflet-control-geosearch a.leaflet-bar-part:before,.leaflet-control-geosearch a.leaflet-bar-part:after{position:absolute;display:block;content:''}.leaflet-control-geosearch a.leaflet-bar-part:before{top:19px;left:16px;width:8px;border-top:2px solid #555;transform:rotateZ(45deg)}.leaflet-control-geosearch a.leaflet-bar-part:after{top:6px;left:6px;height:14px;width:14px;border-radius:50%;border:2px solid #555}.leaflet-control-geosearch.error a.leaflet-bar-part:before,.leaflet-control-geosearch.pending a.leaflet-bar-part:before{display:none}.leaflet-control-geosearch.error a.leaflet-bar-part:after,.leaflet-control-geosearch.pending a.leaflet-bar-part:after{left:50%;top:50%;width:18px;height:18px;margin:-9px 0 0 -9px;border-radius:50%}.leaflet-control-geosearch.pending a.leaflet-bar-part:after{content:'';border:2px solid #555;border-top:2px solid #f3f3f3;animation:spin 1s linear infinite}.leaflet-control-geosearch.error a.leaflet-bar-part:after{content:'!';line-height:initial;font-weight:600;font-size:18px;border:none}.leaflet-control-geosearch form{display:none;position:absolute;top:-2px;left:28px;border-radius:0 4px 4px 0;border:2px solid rgba(0,0,0,0.2);border-left:none;background-color:#fff;background-clip:padding-box;z-index:-1;height:auto;margin:0;padding:0 8px}.leaflet-control-geosearch form input{min-width:200px;width:100%;border:none;outline:none;margin:0;padding:0;font-size:12px;height:30px;border-radius:0 4px 4px 0;text-indent:8px}.leaflet-control-geosearch.active form{display:block}.leaflet-control-geosearch .results{background:#fff}.leaflet-control-geosearch .results>*{line-height:24px;padding:0 8px;border:1px solid transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.leaflet-control-geosearch .results.active{padding:8px 0;border-top:1px solid #c6c6c6}.leaflet-control-geosearch .results>.active,.leaflet-control-geosearch .results>:hover{background-color:#f8f8f8;border-color:#c6c6c6;cursor:pointer}.leaflet-control-geosearch .results.active:after{content:'';display:block;width:0;border-left:2px solid rgba(0,0,0,0.2);position:absolute;left:-2px;bottom:-2px;top:30px}.leaflet-control-geosearch.bar{position:relative;display:block;height:auto;width:400px;margin:10px auto 0;cursor:auto;z-index:1000}.leaflet-control-geosearch.bar form{position:relative;top:0;left:0;display:block;border:2px solid rgba(0,0,0,0.2);border-radius:4px}.leaflet-control-geosearch.bar form input{min-width:100%;width:100%}.leaflet-control-geosearch.bar .results.active:after{opacity:.2}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.leaflet-top .leaflet-control-geosearch.bar,.leaflet-bottom .leaflet-control-geosearch.bar{display:none}.leaflet-right .leaflet-control-geosearch form{right:28px;left:initial;border-radius:4px 0 0 4px;border-left:inherit;border-right:none}#map .base-selector{display:inline-block;border:4px solid #6682a9;position:relative;width:88px;height:88px;margin-right:30px;box-shadow:0px 0px 5px black}@media only screen and (max-width: 480px){#map .base-selector{width:44px;height:44px;margin-right:10px}}@media only screen and (min-width: 481px) and (max-width: 668px){#map .base-selector{width:44px;height:44px;margin-right:10px}}#map .base-selector:hover{cursor:pointer}#map .base-selector.active{border-color:#fff}#map .base-selector img{width:100%;height:auto}#map .base-selector div{position:absolute;top:0;height:100%;font-size:16px;font-weight:bold;padding:5px;line-height:1em;background:linear-gradient(0deg, rgba(52,61,70,0.035), rgba(52,61,70,0.45));color:#fff}@media only screen and (max-width: 480px){#map .base-selector div{display:none}}@media only screen and (min-width: 481px) and (max-width: 668px){#map .base-selector div{display:none}}.leaflet-bottom.leaflet-left{pointer-events:all}.baselayer-ui{padding:36px 12px}.project-logo{background:#fff;background:rgba(255,255,255,0.7);max-width:145px;padding:5px 10px;float:right;pointer-events:auto}.project-logo img{width:100%;height:auto}@media only screen and (max-width: 480px){.project-logo{display:none}}@media only screen and (min-width: 481px) and (max-width: 668px){.project-logo{display:none}}.mobile-header{position:absolute;top:0;right:0;background:#fff;background:rgba(255,255,255,0.7);z-index:100;width:100%;height:37px;display:none;text-align:center}@media only screen and (max-width: 480px){.mobile-header{display:block}}@media only screen and (min-width: 481px) and (max-width: 668px){.mobile-header{display:block;background:#fff}}.logo-mobile img{width:135px;padding:5px}#right-panel{padding-bottom:55px}.shareurl-panel{width:inherit;height:55px;position:fixed;bottom:0;line-height:55px;font-size:16px;padding:0 15px;background-color:#dcdcdc;transform:translateZ(0)}@media only screen and (max-width: 480px){.shareurl-panel{height:38px;line-height:38px}}@media only screen and (min-width: 481px) and (max-width: 668px){.shareurl-panel{height:38px;line-height:38px}}.shareurl-panel>span{vertical-align:middle;margin-right:10px;height:28px;line-height:24px}.shareurl-panel .shareurl-label{font-size:12px;margin-right:10px}.shareurl-button{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.shareurl-button a{cursor:pointer}.shareurl-link{position:relative;display:inline-block;font-size:14px;font-weight:bold}.shareurl-link img{width:auto;height:16px;margin-right:5px}@media only screen and (max-width: 480px){.shareurl-link img{margin-right:0}}@media only screen and (min-width: 481px) and (max-width: 668px){.shareurl-link img{margin-right:0}}.shareurl-link img,.shareurl-link span{vertical-align:middle}.shareurl-link a{background:#06c8f7;color:#fff;padding:0 10px;display:inline-block;width:100%;height:100%;border-radius:5px}.shareurl-link a:hover{background:#05a8d1}.shareurl-link-popup{position:absolute;top:-70px;left:-70%;width:300px;padding:5px 10px;text-align:center;background-color:#f3f2f2;border-radius:5px;box-shadow:0px 0px 5px black;display:none}.shareurl-link-popup.active{display:block}.shareurl-link-popup:before{content:\"\";position:absolute;width:0px;height:0px;bottom:30%;left:53.5%;z-index:-1;margin-left:-18px;-moz-box-shadow:11px 17px 16px 4px #333333;-webkit-box-shadow:11px 17px 16px 4px #333333;box-shadow:11px 17px 16px 4px #333333}.shareurl-link-popup:after{content:\" \";position:absolute;bottom:-10px;left:48%;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #f3f2f2}.shareurl-link-popup input{width:100%;padding:4px 5px;font-size:14px}.shareurl-link-popup .remove-graph{position:absolute;float:none;top:8px;right:10px;font-size:12px;padding:0 3px}.shareurl-facebook,.shareurl-twitter{display:inline-block}.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:5px 10px;height:28px;line-height:18px;font-size:14px;font-weight:bold;letter-spacing:.5px}.resp-sharing-button__icon svg{width:16px;height:16px;margin-right:0.4em;vertical-align:top}@media only screen and (max-width: 480px){.resp-sharing-button__icon svg{margin-right:0}}@media only screen and (min-width: 481px) and (max-width: 668px){.resp-sharing-button__icon svg{margin-right:0}}.resp-sharing-button__icon path{stroke:none;fill:#fff}.resp-sharing-button__icon--solid{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}html,body,#wrapper{width:100%;height:100%;position:relative}#map-wrapper{height:100%;padding-right:465px}@media only screen and (max-width: 480px){#map-wrapper{height:50%;padding-right:0 !important}}@media only screen and (min-width: 481px) and (max-width: 668px){#map-wrapper{width:50%;padding-right:0 !important}}#map{z-index:0;height:100%}body{font:12px Arial}*{margin:0;border:0;padding:0}*,*:before,*:after{box-sizing:border-box;-moz-box-sizing:border-box}\n",""]);const C=m},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);r&&i[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{"use strict";e.exports=function(e){return e[1]}},730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.ENTER_KEY=13,r=t.ESCAPE_KEY=27,a=t.ARROW_DOWN_KEY=40,o=t.ARROW_UP_KEY=38,i=t.ARROW_LEFT_KEY=37,l=t.ARROW_RIGHT_KEY=39;t.SPECIAL_KEYS=[n,r,a,o,i,l]},20:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.createElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement(e);return r.className=t,n&&n.appendChild(r),r};t.createScriptElement=function(e,t){var r=n("script",null,document.body);return r.setAttribute("type","text/javascript"),new Promise((function(n){window[t]=function(e){r.remove(),delete window[t],n(e)},r.setAttribute("src",e)}))},t.addClassName=function(e,t){e&&!e.classList.contains(t)&&e.classList.add(t)},t.removeClassName=function(e,t){e&&e.classList.contains(t)&&e.classList.remove(t)}},215:(e,t,n)=>{"use strict";var r=n(127);Object.defineProperty(t,"C1",{enumerable:!0,get:function(){return o(r).default}});n(921),n(461),n(421),n(800);var a=n(125);Object.defineProperty(t,"Zm",{enumerable:!0,get:function(){return o(a).default}});n(996);function o(e){return e&&e.__esModule?e:{default:e}}},127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),c(n(345));var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){if(!L||!L.Control||!L.Control.extend)throw new Error("Leaflet must be loaded before instantiating the GeoSearch control");for(var e=L.Control.extend(u),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))};var a=c(n(296)),o=c(n(921)),i=c(n(955)),l=n(20),s=n(730);function c(e){return e&&e.__esModule?e:{default:e}}var p={},d=["dragging","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard"],u={initialize:function(e){var t=this;this.markers=new L.FeatureGroup,this.handlersDisabled=!1,this.options=r({},{position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(e){return""+e.result.label},marker:{icon:new L.Icon.Default,draggable:!1},maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1},e);var n=this.options,s=n.style,c=n.classNames,p=n.searchLabel,d=n.autoComplete,u=n.autoCompleteDelay;"button"!==s&&(this.options.classNames.container+=" "+e.style),this.searchElement=new o.default(r({},this.options,{handleSubmit:function(e){return t.onSubmit(e)}}));var h=this.searchElement.elements,f=h.container,g=h.form,m=h.input,v=(0,l.createElement)("a",c.button,f);v.title=p,v.href="#",v.addEventListener("click",(function(e){t.onClick(e)}),!1);var b=(0,l.createElement)("a",c.resetButton,g);b.innerHTML="X",v.href="#",b.addEventListener("click",(function(){t.clearResults(null,!0)}),!1),d&&(this.resultList=new i.default({handleClick:function(e){var n=e.result;m.value=n.label,t.onSubmit({query:n.label,data:n})}}),g.appendChild(this.resultList.elements.container),m.addEventListener("keyup",(0,a.default)((function(e){return t.autoSearch(e)}),u),!0),m.addEventListener("keydown",(function(e){return t.selectResult(e)}),!0),m.addEventListener("keydown",(function(e){return t.clearResults(e,!0)}),!0)),g.addEventListener("mouseenter",(function(e){return t.disableHandlers(e)}),!0),g.addEventListener("mouseleave",(function(e){return t.restoreHandlers(e)}),!0),this.elements={button:v,resetButton:b}},onAdd:function(e){var t=this.options,n=t.showMarker,r=t.style;if(this.map=e,n&&this.markers.addTo(e),"bar"===r){var a=this.searchElement.elements.form,o=e.getContainer().querySelector(".leaflet-control-container"),i=(0,l.createElement)("div","leaflet-control-geosearch bar");i.appendChild(a),o.appendChild(i),this.elements.container=i}return this.searchElement.elements.container},onRemove:function(){var e=this.elements.container;return e&&e.remove(),this},onClick:function(e){e.preventDefault();var t=this.searchElement.elements,n=t.container,r=t.input;n.classList.contains("active")?((0,l.removeClassName)(n,"active"),this.clearResults()):((0,l.addClassName)(n,"active"),r.focus())},disableHandlers:function(e){var t=this,n=this.searchElement.elements.form;this.handlersDisabled||e&&e.target!==n||(this.handlersDisabled=!0,d.forEach((function(e){t.map[e]&&(p[e]=t.map[e].enabled(),t.map[e].disable())})))},restoreHandlers:function(e){var t=this,n=this.searchElement.elements.form;!this.handlersDisabled||e&&e.target!==n||(this.handlersDisabled=!1,d.forEach((function(e){p[e]&&t.map[e].enable()})))},selectResult:function(e){if([s.ENTER_KEY,s.ARROW_DOWN_KEY,s.ARROW_UP_KEY].includes(e.keyCode)){e.preventDefault();var t=this.searchElement.elements.input,n=this.resultList;if(e.keyCode!==s.ENTER_KEY){var r=n.count()-1;if(!(r<0)){var a="ArrowDown"===e.code?1+~~n.selected:~~n.selected-1,o=a<0?r:a>r?0:a,i=n.select(o);t.value=i.label}}else{var l=n.select(n.selected);this.onSubmit({query:t.value,data:l})}}},clearResults:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||e.keyCode===s.ESCAPE_KEY){var n=this.searchElement.elements.input,r=this.options,a=r.keepResult,o=r.autoComplete;!t&&a||(n.value="",this.markers.clearLayers()),o&&this.resultList.clear()}},autoSearch:function(e){return new Promise(function(t,n){var r,a,o;return s.SPECIAL_KEYS.includes(e.keyCode)?t():(r=e.target.value,a=this.options.provider,r.length?a.search({query:r}).then(function(e){return o=e,this.resultList.render(o),i.call(this)}.$asyncbind(this,n),n):(this.resultList.clear(),i.call(this)));function i(){return t()}}.$asyncbind(this))},onSubmit:function(e){return new Promise(function(t,n){var r;return this.options.provider.search(e).then(function(n){return(r=n)&&r.length>0&&this.showResult(r[0],e),t()}.$asyncbind(this,n),n)}.$asyncbind(this))},showResult:function(e,t){var n=t.query,r=this.options.autoClose,a=Object.keys(this.markers._layers);a.length>=this.options.maxMarkers&&this.markers.removeLayer(a[0]);var o=this.addMarker(e,n);this.centerMap(e),this.map.fireEvent("geosearch/showlocation",{location:e,marker:o}),r&&this.closeResults()},closeResults:function(){var e=this.searchElement.elements.container;e.classList.contains("active")&&(0,l.removeClassName)(e,"active"),this.restoreHandlers(),this.clearResults()},addMarker:function(e,t){var n=this,r=this.options,a=r.marker,o=r.showPopup,i=r.popupFormat,l=new L.Marker([e.y,e.x],a),s=e.label;return"function"==typeof i&&(s=i({query:t,result:e})),l.bindPopup(s),this.markers.addLayer(l),o&&l.openPopup(),a.draggable&&l.on("dragend",(function(e){n.map.fireEvent("geosearch/marker/dragend",{location:l.getLatLng(),event:e})})),l},centerMap:function(e){var t=this.options,n=t.retainZoomLevel,r=t.animateZoom,a=new L.LatLngBounds(e.bounds),o=a.isValid()?a:this.markers.getBounds();!n&&a.isValid()?this.map.fitBounds(o,{animate:r}):this.map.setView(o.getCenter(),this.getZoom(),{animate:r})},getZoom:function(){var e=this.options,t=e.retainZoomLevel,n=e.zoomLevel;return t?this.map.getZoom():n}}},461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l(n(345));var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(996)),i=n(20);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,a=e.jsonp,o=this.options.params,i=this.getParamString(r({},o,{query:t,jsonp:a}));return n+"//dev.virtualearth.net/REST/v1/Locations?"+i}},{key:"parse",value:function(e){var t=e.data;return 0===t.resourceSets.length?[]:t.resourceSets[0].resources.map((function(e){return{x:e.point.coordinates[1],y:e.point.coordinates[0],label:e.address.formattedAddress,bounds:[[e.bbox[0],e.bbox[1]],[e.bbox[2],e.bbox[3]]],raw:e}}))}},{key:"search",value:function(e){return new Promise(function(t,n){var r,a,o,l,s;return r=e.query,a=~location.protocol.indexOf("http")?location.protocol:"https:",o="BING_JSONP_CB_"+Date.now(),l=this.endpoint({query:r,protocol:a,jsonp:o}),(0,i.createScriptElement)(l,o).then(function(e){return s=e,t(this.parse({data:s}))}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),t}(o.default);t.default=p},421:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params,o=this.getParamString(a({},r,{f:"json",text:t}));return n+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find?"+o}},{key:"parse",value:function(e){return e.data.locations.map((function(e){return{x:e.feature.geometry.x,y:e.feature.geometry.y,label:e.name,bounds:[[e.extent.ymin,e.extent.xmin],[e.extent.ymax,e.extent.xmax]],raw:e}}))}}]),t}(((r=n(996))&&r.__esModule?r:{default:r}).default);t.default=s},800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params,o=this.getParamString(a({},r,{address:t})),i=r&&r.key?"https:":n;return i+"//maps.googleapis.com/maps/api/geocode/json?"+o}},{key:"parse",value:function(e){return e.data.results.map((function(e){return{x:e.geometry.location.lng,y:e.geometry.location.lat,label:e.formatted_address,bounds:[[e.geometry.viewport.southwest.lat,e.geometry.viewport.southwest.lng],[e.geometry.viewport.northeast.lat,e.geometry.viewport.northeast.lng]],raw:e}}))}}]),t}(((r=n(996))&&r.__esModule?r:{default:r}).default);t.default=s},125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(n(345));var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=this.options.params,a=this.getParamString(r({},n,{format:"json",q:t}));return"https://nominatim.openstreetmap.org/search?"+a}},{key:"endpointReverse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=this.options.params,a=this.getParamString(r({},n,{format:"json",osm_id:t.raw.osm_id,osm_type:this.translateOsmType(t.raw.osm_type)}));return"https://nominatim.openstreetmap.org/reverse?"+a}},{key:"parse",value:function(e){return e.data.map((function(e){return{x:e.lon,y:e.lat,label:e.display_name,bounds:[[parseFloat(e.boundingbox[0]),parseFloat(e.boundingbox[2])],[parseFloat(e.boundingbox[1]),parseFloat(e.boundingbox[3])]],raw:e}}))}},{key:"search",value:function(e){return new Promise(function(t,n){var r,a,o,i,l;return r=e.query,a=e.data,o=~location.protocol.indexOf("http")?location.protocol:"https:",i=a?this.endpointReverse({data:a,protocol:o}):this.endpoint({query:r,protocol:o}),fetch(i).then(function(e){return e.json().then(function(e){return l=e,t(this.parse({data:a?[l]:l}))}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))}},{key:"translateOsmType",value:function(e){return"node"===e?"N":"way"===e?"W":"relation"===e?"R":""}}]),t}(o(n(996)).default);t.default=s},996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=((r=n(345))&&r.__esModule,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options=t}return a(e,[{key:"getParamString",value:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},{key:"search",value:function(e){return new Promise(function(t,n){var r,a,o,i;return r=e.query,a=~location.protocol.indexOf("http")?location.protocol:"https:",o=this.endpoint({query:r,protocol:a}),fetch(o).then(function(e){return e.json().then(function(e){return i=e,t(this.parse({data:i}))}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),e}();t.default=i},955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(20);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ").trim()},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.handleClick,r=void 0===n?function(){}:n,l=t.classNames,c=void 0===l?{}:l;o(this,e),s.call(this),this.props={handleClick:r,classNames:c},this.selected=-1;var p=(0,a.createElement)("div",i("results",c.container)),d=(0,a.createElement)("div",i(c.item));p.addEventListener("click",this.onClick,!0),this.elements={container:p,resultItem:d}}return r(e,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.elements,n=t.container,r=t.resultItem;this.clear(),e.forEach((function(e,t){var a=r.cloneNode(!0);a.setAttribute("data-key",t),a.innerHTML=e.label,n.appendChild(a)})),e.length>0&&(0,a.addClassName)(n,"active"),this.results=e}},{key:"select",value:function(e){var t=this.elements.container;return Array.from(t.children).forEach((function(t,n){return n===e?(0,a.addClassName)(t,"active"):(0,a.removeClassName)(t,"active")})),this.selected=e,this.results[e]}},{key:"count",value:function(){return this.results?this.results.length:0}},{key:"clear",value:function(){var e=this.elements.container;for(this.selected=-1;e.lastChild;)e.removeChild(e.lastChild);(0,a.removeClassName)(e,"active")}}]),e}(),s=function(){var e=this;this.onClick=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.target,r=e.props.handleClick,a=e.elements.container;if(n.parentNode===a&&n.hasAttribute("data-key")){var o=n.getAttribute("data-key"),i=e.results[o];r({result:i})}}};t.default=l},921:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=((r=n(345))&&r.__esModule,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),o=n(20),i=n(730);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.handleSubmit,a=void 0===r?function(){}:r,i=n.searchLabel,s=void 0===i?"search":i,c=n.classNames,p=void 0===c?{}:c;l(this,e);var d=(0,o.createElement)("div",["geosearch",p.container].join(" ")),u=(0,o.createElement)("form",["",p.form].join(" "),d),h=(0,o.createElement)("input",["glass",p.input].join(" "),u);h.type="text",h.placeholder=s,h.addEventListener("input",(function(e){t.onInput(e)}),!1),h.addEventListener("keyup",(function(e){t.onKeyUp(e)}),!1),h.addEventListener("keypress",(function(e){t.onKeyPress(e)}),!1),h.addEventListener("focus",(function(e){t.onFocus(e)}),!1),h.addEventListener("blur",(function(e){t.onBlur(e)}),!1),this.elements={container:d,form:u,input:h},this.handleSubmit=a}return a(e,[{key:"onFocus",value:function(){(0,o.addClassName)(this.elements.form,"active")}},{key:"onBlur",value:function(){(0,o.removeClassName)(this.elements.form,"active")}},{key:"onSubmit",value:function(e){return new Promise(function(t,n){var r,a,i;return e.preventDefault(),e.stopPropagation(),a=(r=this.elements).input,i=r.container,(0,o.removeClassName)(i,"error"),(0,o.addClassName)(i,"pending"),this.handleSubmit({query:a.value}).then(function(e){return(0,o.removeClassName)(i,"pending"),t()}.$asyncbind(this,n),n)}.$asyncbind(this))}},{key:"onInput",value:function(){var e=this.elements.container;this.hasError&&((0,o.removeClassName)(e,"error"),this.hasError=!1)}},{key:"onKeyUp",value:function(e){var t=this.elements,n=t.container,r=t.input;e.keyCode===i.ESCAPE_KEY&&((0,o.removeClassName)(n,"pending"),(0,o.removeClassName)(n,"active"),r.value="",document.body.focus(),document.body.blur())}},{key:"onKeyPress",value:function(e){e.keyCode===i.ENTER_KEY&&this.onSubmit(e)}},{key:"setQuery",value:function(e){this.elements.input.value=e}}]),e}();t.default=s},296:(e,t,n)=>{var r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,p=s||c||Function("return this")(),d=Object.prototype.toString,u=Math.max,h=Math.min,f=function(){return p.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||i.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r,a,o,i,l,s,c=0,p=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,o=a;return r=a=void 0,c=t,i=e.apply(o,n)}function y(e){return c=e,l=setTimeout(w,t),p?b(e):i}function x(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-c>=o}function w(){var e=f();if(x(e))return k(e);l=setTimeout(w,function(e){var n=t-(e-s);return d?h(n,o-(e-c)):n}(e))}function k(e){return l=void 0,v&&r?b(e):(r=a=void 0,i)}function E(){var e=f(),n=x(e);if(r=arguments,a=this,s=e,n){if(void 0===l)return y(s);if(d)return l=setTimeout(w,t),b(s)}return void 0===l&&(l=setTimeout(w,t)),i}return t=m(t)||0,g(n)&&(p=!!n.leading,o=(d="maxWait"in n)?u(m(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=a=l=void 0},E.flush=function(){return void 0===l?i:k(f())},E}},345:(e,t,n)=>{"use strict";var r=function(e,t){for(var n=function e(t,n){function r(){return a.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,a){return function o(i){for(;i;){if(i.then)return i=i.then(o,r),a?void 0:i;try{if(i.pop){if(i.length)return i.pop()?t.call(e):i;i=n}else i=i.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable="!!!thenable"(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory="!!!zousan")());var a=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return a.apply(t,arguments)}catch(e){return n(e)}}}}.toString(),r="return "+n,a=n.match(/.*\(([^)]*)\)/)[1],o=/['"]!!!([^'"]*)['"]/g,i=[];;){var l=o.exec(r);if(!l)break;i.push(l)}return i.reverse().forEach((function(t){r=r.slice(0,t.index)+e[t[1]]+r.substr(t.index+t[0].length)})),r=r.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(a,r)()}({zousan:n(976).toString(),thenable:n(301).toString()});function a(e,t){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:a,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var n=this;return new e((function(e,r){var a=n.call(t,e,r);!function t(n,o){var i;try{if((i=n.call(a,o)).done){if(i.value!==e){if(i.value&&i.value===i.value.then)return i.value(e,r);e&&e(i.value),e=null}return}i.value.then?i.value.then((function(e){t(a.next,e)}),(function(e){t(a.throw,e)})):t(a.next,i.value)}catch(e){return r&&r(e),void(r=null)}}(a.next)}))}}r(),a(),e.exports={$asyncbind:r,$asyncspawn:a}},301:e=>{e.exports=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,a){try{var o=a?a(r):r;if(n===o)return n.reject(new TypeError("Promise resolution loop"));e(o)?o.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(o)}catch(e){n.reject(e)}}function n(e){}function r(){}function a(n,a){var o=new r;try{this._resolver((function(r){return e(r)?r.then(n,a):t(o,r,n)}),(function(e){t(o,e,a)}))}catch(e){t(o,e,a)}return o}function o(e){this._resolver=e,this.then=a}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},o.resolve=function(e){return o.isThenable(e)?e:{then:function(t){return t(e)}}},o.isThenable=e,o}},976:e=>{"use strict";e.exports=function(e){e=e||"object"==typeof process&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(a){t.push(a),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function a(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"==typeof e))try{var a=0,o=e.then;if("function"==typeof o)return void o.call(e,(function(e){a++||n.resolve(e)}),(function(e){a++||n.reject(e)}))}catch(e){return void(a||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,a=n.c.length;t<a;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=a,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)a(n[t],e)}))}},then:function(e,r){var a=new n,o={y:e,n:r,p:a};if(void 0===this.state)this.c?this.c.push(o):this.c=[o];else{var i=this.state,l=this.v;t((function(){i(o,l)}))}return a}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],l=0;l<e.length;l++){var s=e[l],c=r.base?s[0]+r.base:s[0],p=o[c]||0,d="".concat(c," ").concat(p);o[c]=p+1;var u=n(d),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var f=a(h,r);r.byIndex=l,t.splice(l,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var l=n(o[i]);t[l].references--}for(var s=r(e,a),c=0;c<o.length;c++){var p=n(o[c]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}o=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},158:(e,t,n)=>{"use strict";e.exports=n.p+"d6d0051951f14884d21e.png"},581:(e,t,n)=>{"use strict";e.exports=n.p+"24aed8942b434b84ca7b.png"},203:(e,t,n)=>{"use strict";e.exports=n.p+"ed98c506d7031aec59ee.gif"},699:(e,t,n)=>{"use strict";e.exports=n.p+"3c76602d6bc535216c9a.png"},629:(e,t,n)=>{"use strict";e.exports=n.p+"06ad0dedf389b3cd1145.gif"},95:(e,t,n)=>{"use strict";e.exports=n.p+"48539bec5e8265d788f8.gif"},556:(e,t,n)=>{"use strict";e.exports=n.p+"8a03663bef705cf76260.png"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href;var r={};(()=>{"use strict";function e(e){var t;return(t=!window.XMLHttpRequest&&window.ActiveXObject?new window.ActiveXObject("MSXML2.XMLHTTP.3.0"):new XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&e(t.response)},t}function t(e,t){e.opacity=e.opacity||t}n.d(r,{m:()=>De});var a,o=n(215),i="baselayer";function l(e){e.stopPropagation();var t=this.getAttribute("data-layer");d3.select(".base-selector.active").classed("active",!1),d3.select(this).classed("active",!0),function(){var e=ae();e.eachLayer((function(t){t.options.type===i&&e.removeLayer(t)}))}(),function(e){for(var t,n=ae(),r=0,o=a.length;r<o;r++)if((t=a[r]).id===e){t.layer||(t.layer=s(t)),t.layer.addTo(n),t.layer.bringToBack();break}}(t),ga("send","event",{eventCategory:"map",eventAction:"change base layer",eventLabel:t,nonInteraction:!1}),c()}function s(e){return L.tileLayer(e.url,function(e){var t={};return e.id&&(t.id=e.id),e.attribution&&(t.attribution=e.attribution),e.subdomains&&(t.subdomains=e.subdomains),t.type=i,t}(e))}function c(e){var t,n,r=ae();n=function(e){return"?"+e.filter((function(e){return void 0!==e})).join("&")}([m(r),v(r),b(r),(t=fe.filter((function(e){return e.active})),"layerGroups="+t.map((function(e){return e.id})).join(",")),y(r),x(),"tab="+d3.select(".panel-top-btn.active").attr("data-active"),"graph="+d3.select(".graph-type-btn.active").attr("data-type")]),window.history&&window.history.replaceState&&window.history.replaceState({},"",n),function(){var e=window.location.href;document.getElementById("shareurl-link-url").setAttribute("value",e)}(),function(){var e,t,n,r,a=window.location.href.replace(/\:/g,"%3A").replace(/\;/g,"%3B").replace(/\//g,"%2F").replace(/\,/g,"%2C").replace(/\&/g,"%26"),o=document.getElementsByClassName("shareurl-social");for(n=0,r=o.length;n<r;n++)t=(e=o[n]).getAttribute("data-baseurl")+a,e.setAttribute("href",t),e.addEventListener("click",(function(){ga("send","event",{eventCategory:"shareurl",eventAction:this.getAttribute("aria-label"),eventLabel:this.href,nonInteraction:!1})}))}()}function p(){var e,t,n=[],r=!0;for(e=0,t=(n=function(e){for(var t=[];e&&e.parentNode;)t.push(e),e=e.parentNode;return t}(d3.event.target)).length;e<t;e++)try{if(n[e].classList.contains("shareurl-link-popup")||n[e].classList.contains("shareurl-link")){r=!1;break}}catch(e){}r&&f(document.getElementsByClassName("shareurl-link-popup").item(0))}function d(){var e=document.getElementsByClassName("shareurl-link-popup").item(0);d3.select(e).classed("active")?f(e):function(e){e.classList.toggle("active"),g(),ga("send","event",{eventCategory:"shareurl",eventAction:"open",eventLabel:document.getElementById("shareurl-link-url").getAttribute("value"),nonInteraction:!1})}(e)}function u(){f(document.getElementsByClassName("shareurl-link-popup").item(0))}function h(){g()}function f(e){ga("send","event",{eventCategory:"shareurl",eventAction:"close",eventLabel:document.getElementById("shareurl-link-url").getAttribute("value"),nonInteraction:!1}),e.classList.remove("active")}function g(){var e=document.getElementById("shareurl-link-url");e.focus(),e.setSelectionRange(0,e.value.length)}function m(e){var t=e.getCenter();return"center="+t.lat.toString()+","+t.lng.toString()}function v(e){return"zoom="+e.getZoom()}function b(e){var t,n,r=[],a={},o=oe;for(e.eachLayer((function(e){var t=e.options;t&&t.layers&&(a[t.layers]=t.hasOwnProperty("opacity")?t.opacity:"1")})),n=0;n<o.length;n++)t=o[n],r.push(t),r.push(a[t]);return"layers="+r.join(",")}function y(e){var t=[];return e.eachLayer((function(e){e.options&&e.options.type===i&&t.push(e.options.id)})),"baselayers="+t.join(",")}function x(){var e=Q();if(e.length){var t="pois=";return e.forEach((function(e){t+=e.lat+","+e.lng,e.plots&&e.plots.length&&(t+=","+e.plots.join(",")),t+=";"})),t}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k,E,C=46,_=["hoverClosestCartesian","hoverCompareCartesian","lasso2d","select2d","toggleSpikelines"];function O(e,t,n){(function(e,t,n){var r=function(e){var t=[];return e.forEach((function(e){t.push({date:e[0],ndvi:e[1]})})),t}(e=function(e){for(var t=0;t<e.length;t++)e[t]=e[t].split(","),e[t]=[(n=e[t][0],r=void 0,a=void 0,o=void 0,r=(n=n.toString()).substring(0,4),a=parseInt(n.substring(4,6),10)-1,o=n.substring(6,8),new Date(r,a,o)),e[t][1]];var n,r,a,o;return e}(e)),a=function(e){var t,n,r,a={keys:[]};for(r=0;r<e.length;r++)n=(t=e[r])[0].getFullYear(),"03"!==String(t[0].getMonth()).concat(String(t[0].getDate()))&&"02"!==String(t[0].getMonth()).concat(String(t[0].getDate()))||(n=String(parseInt(n)-1)),a.hasOwnProperty(n)||(a[n]=[],a.keys.push(n)),a[n].push(t);return a.baseline=A(e),a}(e),o=function(e,t){var n=[],r=[];e.forEach((function(e){r.push(e[1]),n.push(M(e[0]))}));for(var a=Y(r,n),o=a[1]<180?(a[1]+180)%360:a[1]-180,i=!1,l=0,s=[],c=0;c<t[2001].length&&!i;c++){var p=t[2001][c][0];M(p)>=o&&(i=!0,l=c)}k=e.length/C,E=k-1;for(var d=l,u=0;u<=E;u++){s[u]=[];for(var h=0;h<C;h++)s[u].push(e[d]),d++}return s.pop(),s}(e,a);(function(e,t){var n,r=[],a=[];e.forEach((function(e){a.push(e.date),r.push(e.ndvi)}));for(var o=[],i=0,l=function(e){if(Array.isArray(e))return w(e)}(n=Array(46).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=0;s<k;s++)o=o.concat([{type:"scatter",mode:"lines+markers",y:r.slice(i,i+46),x:l,customdata:a.slice(i,i+46),line:{color:H[s]},hovertemplate:"%{customdata|%B %d, %Y}: %{y:.1f}<extra></extra>"}]),i+=46,l=l.map((function(e){return e+46}));var c=d3.select(t).append("div").classed("timeseries-graph",!0),p={responsive:!0,displaylogo:!1,displayModeBar:!0,modeBarButtonsToRemove:_};Plotly.newPlot(c.node(),o,{hovermode:"closest",showlegend:!1,margin:{l:23,r:30,t:50,b:35},modebar:{orientation:"h"},xaxis:{tickangle:"-45",tickvals:[0,46,92,138,184,230,276,322,368,414,460,506,552,598,644,690,736,782,828,874],ticktext:["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"]},yaxis:{range:[0,100]}},p)})(r,t),function(e,t){var n=[],r=[];e[2001].forEach((function(t,n){r.push([t[0],e.baseline[n]])})),e.keys.forEach((function(t){var r;n=n.concat(N(e[t],t,0===(r=t)?"#fff":H[parseInt(r,10)%H.length]))})),n=n.concat(N(r,"All-years mean","#000000",!0,"%{customdata|%B %d}<br>NDVI: %{y:.1f}<extra></extra>"));var a=d3.select(t).append("div").classed("overlapping-graph",!0),o={responsive:!0,displaylogo:!1,displayModeBar:!0,modeBarButtonsToRemove:_};Plotly.newPlot(a.node(),n,{hovermode:"closest",margin:{l:28,r:40,t:20,b:20},modebar:{orientation:"h"},legend:{title:{text:"Click to turn on/off"},x:1.07},xaxis:{tickangle:"0",tickvals:[1,32,60,91,121,152,182,213,244,274,305,335],ticktext:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yaxis:{range:[0,100]}},o)}(a,t),function(e,t,n,r,a){var o=A(n.flat()),i=[],l=[],s=[],c=[],p=[],d=[];n[1].forEach((function(e,t){s.push([e[0],o[t]]),l.push(M(e[0]))})),t[2001].forEach((function(e){c.push(M(e[0]))})),e.forEach((function(e){p.push(e[1]),d.push(M(e[0]))}));var u=Y(p,d),h=u[1]<180?(u[1]+180)%360:u[1]-180,f=$(o,l),g=f.fifteenIndex,m=f.eightyIndex,v=(u=Y(o.slice(g,m),l.slice(g,m)))[0],b=u[1],y={r:[0,10,20,40,60,80,100,250],theta:[0].concat(F([h],7))},x={r:[0,10,20,40,60,80,100,250],theta:[0].concat(F([f.fifteenEnd],7))},w={r:[0,10,20,40,60,80,100,250],theta:[0].concat(F([b],7))},L={r:[0,10,20,40,60,80,100,250],theta:[0].concat(F([f.eightyEnd],7))};i=(i=(i=(i=(i=i.concat(z(y,"lines","start pheno","Start of Phenological Year","#429bb8"))).concat(z(x,"lines","15% threshold","Start of Growing Season","#90ee90"))).concat(z(w,"lines","middle growing","Middle of Growing Season","#056608"))).concat(z(L,"lines","80% threshold","End of Growing Season","#ffa500"))).concat(function(e){return[{type:"scatterpolar",mode:"lines+markers",name:"Seasonality",visible:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],showlegend:!1,r:[parseFloat(e[1]).toFixed(2),0],theta:[e[0],0],hovertemplate:["Seasonality: %{r}<extra></extra>",""],marker:{size:9,maxdisplayed:1},line:{color:"#ff0000",width:4}}]}([b,v]));var _=d3.select(r).append("div").classed("polar-graph",!0);n.forEach((function(e,t){i=i.concat(B(e,"Pheno Year "+parseInt(t+1),H[t]))})),i=i.concat(B(s,"All-years mean","#000000",!0,"%{customdata|%B %d}<br>NDVI: %{r:.1f}<extra></extra>"));var O=[[{name:"Zoom In",icon:Plotly.Icons.zoom_plus,click:function(e){var t=e.layout.polar.radialaxis.tickvals;(e.layout.polar.radialaxis.range[1]-10)%20==0&&t[t.length-1]+20!=e.layout.polar.radialaxis.range[1]-10&&t.pop(),Plotly.relayout(e,T(e.layout.polar.radialaxis.range[1]-10,t))}},{name:"Zoom Out",icon:Plotly.Icons.zoom_minus,click:function(e){var t=e.layout.polar.radialaxis.tickvals;(e.layout.polar.radialaxis.range[1]+10)%20==0&&t[t.length-1]+20!=e.layout.polar.radialaxis.range[1]+10&&t.push(e.layout.polar.radialaxis.range[1]-10),Plotly.relayout(e,T(e.layout.polar.radialaxis.range[1]+10,t))}},{name:"Reset axes and traces",icon:Plotly.Icons.home,click:function(e){for(var t=1;t<k;t++)document.getElementById("Pheno Year "+t+a.lat+a.lng).checked=!1;document.getElementById("All-years mean"+a.lat+a.lng).checked=!0,Plotly.restyle(e,{visible:!1},[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),Plotly.restyle(e,{visible:!0},23),Plotly.restyle(e,{theta:[[0].concat(F([f.fifteenEnd],7))]},1),Plotly.restyle(e,{theta:[[0].concat(F([b],7))]},2),Plotly.restyle(e,{theta:[[0].concat(F([f.eightyEnd],7))]},3),Plotly.restyle(_.node(),{r:[[parseFloat(v).toFixed(2),0]],theta:[[b,0]]},4),Plotly.relayout(e,T()),Q={}}},"toImage"]],j={responsive:!0,displaylogo:!1,displayModeBar:!0,modeBarButtons:O},I=T();Plotly.newPlot(_.node(),i,I,j);var S=_.node(),N=document.createElement("div");N.className="polar-legend-wrapper",S.appendChild(N);var D=document.createElement("div");D.className="polar-legend-pheno-wrapper";var Z=document.createElement("div");Z.className="polar-legend-pheno-boxes-wrapper";var U=document.createElement("div");U.classList.add("polar-legend-pheno-header"),U.classList.add("polar-legend-header"),U.innerHTML="Phenological Year";var q=document.createElement("div");q.className="polar-legend-pheno-header-buffer",D.appendChild(U),D.appendChild(q),D.appendChild(Z);var G=document.createElement("div");G.classList.add("polar-legend-calendar-header"),G.classList.add("polar-legend-header"),G.innerHTML="Calendar Year";var K=S.data[5].customdata[0].getDOY()/365*20;Z.style.paddingTop="".concat(K,"px");var W=20*k,J=d3.scaleLinear().domain([2e3,2019]).range([0,W]),V=d3.axisRight(J).ticks(E+1).tickFormat(d3.format("d")),X=d3.select(N).append("div").attr("class","calendar-svg-wrapper");X.node().appendChild(G),X.append("svg").attr("width",100).attr("height",W).append("g").attr("width",100).attr("height","".concat(W+8)).attr("transform","translate(0, ".concat(8,")")).call(V);var Q={};S.data.forEach((function(e,t){if(e.inLegend){var n=document.createElement("div");n.style.height="".concat(20,"px");var r=document.createElement("input"),o=document.createElement("span");o.className="checkmark",r.type="checkbox",r.id=e.name+a.lat+a.lng;var i=document.createElement("label");if(i.className="container",!0===e.visible&&(r.checked=!0),o.style.width="".concat(20,"px"),o.style.height="".concat(20,"px"),o.style.backgroundColor=e.line.color,r.onclick=function(){1==document.getElementById(r.id).checked?Plotly.restyle(S,{visible:!0},t):Plotly.restyle(S,{visible:!1},t);var n,a,o,i,s=e.r,c=e.theta,p=e.name;if("All-years mean"!==p){if(Q[p]?delete Q[p]:Q[p]=s,Object.keys(Q).length>=1){var d=function(e){for(var t,n,r=[],a=0;a<C;a++){t=[];for(var o=a;o<e.length;o+=C)t.push(parseInt(e[o],10));n=P(t),r.push(n)}return r}(Object.values(Q).flat()),u=$(d,l);a=u.fifteenEnd,o=u.eightyEnd;var h=u.fifteenIndex,g=u.eightyIndex,m=Y(d.slice(h,g),c.slice(h,g));n=m[1],i=[[parseFloat(m[0]).toFixed(2),0],[n,0]]}else a=f.fifteenEnd,o=f.eightyEnd,n=b,i=[[parseFloat(v).toFixed(2),0],[b,0]];Plotly.restyle(_.node(),{hovertext:"Start of Growing Season: Julian day "+R(a),theta:[[0].concat(F([a],7))]},1),Plotly.restyle(_.node(),{hovertext:"Middle of Growing Season: Julian day "+R(n),theta:[[0].concat(F([n],7))]},2),Plotly.restyle(_.node(),{hovertext:"End of Growing Season: Julian day "+R(o),theta:[[0].concat(F([o],7))]},3),Plotly.restyle(_.node(),{r:[i[0]],theta:[i[1]]},4)}},"All-years mean"===e.name)n.className="pheno-select-wrapper-all-years",i.appendChild(r),i.appendChild(o),i.appendChild(document.createTextNode(e.name)),n.appendChild(i),Z.appendChild(n);else{var s=e.name.split(" ").splice(-1);i.appendChild(document.createTextNode(s)),i.appendChild(r),i.appendChild(o),n.appendChild(i),Z.appendChild(n)}}})),N.insertBefore(D,X.node())}(e,a,o,t,n),t.classList.remove("graph-loading")})(n=JSON.parse(n),e,t),ve()}function A(e){var t,n;e.baseline=[];for(var r=0;r<C;r++){t=[];for(var a=r;a<e.length;a+=C)t.push(parseInt(e[a][1],10));n=P(t),e.baseline.push(n)}return e.baseline}function P(e){var t,n,r=0;for(t=0,n=e.length;t<n;t++)r+=e[t];return(r/n).toString()}function j(){var e=this.getAttribute("data-type");e!==document.getElementsByClassName("graph-type-btn active")[0].getAttribute("data-type")&&(ga("send","event",{eventCategory:"graph type",eventAction:"click",eventLabel:e,nonInteraction:!1}),I(e))}function I(e){if(!S())var t=document.getElementsByClassName("graph-elem")[0].scrollHeight,n=document.getElementsByClassName("graph-type-info active")[0].scrollHeight,r=document.getElementById("right-panel").scrollTop;var a,o,i,l,s,p;o="graph-"+(a=document.getElementsByClassName("graph-type-btn active")[0]).getAttribute("data-type"),a.classList.remove("active"),document.getElementById("graph-list").classList.remove(o),function(e){d3.select(".graph-type-btn[data-type='"+e+"']").classed("active",!0),document.getElementById("graph-list").classList.add("graph-"+e),d3.selectAll(".graph-type-info").classed("active",(function(){return e===this.id.split("-")[0]}))}(e),S()||(i=n,l=t,s=r,p=document.getElementsByClassName("graph-type-info active")[0].scrollHeight+document.getElementsByClassName("graph-elem")[0].scrollHeight/l*(s-i),document.getElementById("right-panel").scrollTop=p),c()}function S(){return void 0===document.getElementsByClassName("graph-elem")[0]}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"legendonly",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"%{customdata|%B %d, %Y}<br>%{y:.1f}<extra></extra>",o={x:[],y:[],dateArray:[]};return e.forEach((function(e,t){45===t?o.x.push(e[0].getDOY()+365):o.x.push(e[0].getDOY()),o.y.push(parseInt(e[1],10)),o.dateArray.push(e[0])})),[{type:"scatter",visible:r,mode:"lines+markers",name:t,x:o.x,y:o.y,customdata:o.dateArray,line:{color:n},hovertemplate:a}]}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"legendonly",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"%{customdata|%B %d, %Y}<br>NDVI: %{r:.1f}<extra></extra>",o={r:[],theta:[],dateArray:[]};return e.forEach((function(e){o.r.push(parseInt(e[1],10)),o.theta.push(M(e[0])),o.dateArray.push(e[0])})),[{inLegend:!0,type:"scatterpolar",visible:r,mode:"lines+markers",name:t,r:o.r,theta:o.theta,customdata:o.dateArray,line:{color:n},hovertemplate:a}]}function z(e,t,n,r,a){return[{type:"scatterpolar",mode:t,name:n,visible:!0,showlegend:!1,r:e.r,theta:e.theta,hovertext:r+": Julian day "+R(e.theta[e.theta.length-1]),hoverinfo:"text",line:{color:a,width:3}}]}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,20,40,60,80];return{showlegend:!1,dragmode:!1,modebar:{orientation:"h"},autoresize:!0,margin:{l:28,r:40,t:20,b:20},height:475,width:475,polar:{domain:{x:[0,100],y:[1,365]},radialaxis:{visible:!0,fixedrange:!0,angle:90,side:"clockwise",tickangle:90,tickvals:t,gridcolor:"#E2E2E2",tickfont:{color:"#444"},range:[0,e]},angularaxis:{visible:!0,gridcolor:"#E2E2E2",type:"linear",tickmode:"array",showticklabels:!0,tickvals:D(Z),ticktext:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],direction:"clockwise",rotation:!1,period:12}}}}var M=function(e){var t=e.getDOY();return e.getFullYear()%4==0&&e.getMonth()>1&&(t-=1),360*(t-1)/364%360},R=function(e){return Math.round(364*e/360+1)%365},D=function(e){return e.map((function(e){return 360*(e-1)/364%360}))},F=function(e,t){return Array(t).fill(e).flat(1)};function Y(e,t){var n=[],r=[];e.forEach((function(e,a){n.push(e*Math.cos(Math.PI/180*t[a])),r.push(e*Math.sin(Math.PI/180*t[a]))}));var a=n.reduce((function(e,t){return e+t}),0)/n.length,o=r.reduce((function(e,t){return e+t}),0)/r.length,i=Math.sqrt(a*a+o*o),l=Math.atan(o/a)*(180/Math.PI);return(a<0&&o>0||a<0&&o<0)&&(l+=180),a>0&&o<0&&(l+=360),[i,l]}function $(e,t,n){for(var r=0,a=0;a<e.length;a++)r+=parseInt(e[a],10);for(var o,i,l,s,c=.15*r,p=.8*r,d=!1,u=!1,h=0,f=0;f<e.length;f++)if(h+=parseInt(e[f],10),!d&&h>c){o=f,d=!0;var g=e[f-1]/8,m=(t[f]-t[f-1])/8;i=t[o];for(var v=1;v<=8&&(i-=m,!((h-=g)<c));v++);}else if(!u&&h>p){l=f,u=!0;var b=e[f-1]/8,y=(t[f]-t[f-1])/8;s=t[l];for(var x=0;x<8&&(s-=y,!((h-=b)<p));x++);}return{fifteenIndex:o,fifteenEnd:i,eightyIndex:l,eightyEnd:s}}var H=["#23758e","#2c798d","#357e8c","#3e838b","#47878a","#518c89","#5a9088","#639587","#6c9a86","#759e85","#7ea384","#88a883","#91ac82","#9ab181","#a3b580","#acba7f","#b5bf7e","#bec37d","#c8c87c","#d1cc7b","#dad17a","#e3d679","#ecda78","#f5df77","#ffe476"],Z=[1,32,60,91,121,152,182,213,244,274,305,335];function U(e){return"hover"===e?K:G}var q=L.Icon.extend({}),G=new q({iconUrl:"imgs/blue_icon.png",shadowUrl:"imgs/marker_shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),K=new q({iconUrl:"imgs/orange_icon.png",shadowUrl:"imgs/marker_shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function W(){this.classList.contains("active")||(ga("send","event",{eventCategory:"tab",eventAction:"click",eventLabel:this.getAttribute("data-active"),nonInteraction:!1}),J(this.getAttribute("data-active")))}function J(e){var t;t=d3.select(".panel-top-btn.active").attr("data-active"),d3.selectAll("#map-wrapper, #right-panel").classed(t,!1),d3.selectAll(".panel-top-btn.active, .panel-section-wrapper.active").classed("active",!1),function(e){var t;d3.select(".panel-top-btn[data-active='"+e+"']").classed("active",!0),document.getElementById("map-wrapper").classList.add(e),document.getElementById("right-panel").classList.add(e),d3.select(".panel-section-wrapper[data-active='"+e+"']").classed("active",!0),t=document.getElementById("right-panel").offsetWidth,document.getElementById("map-wrapper").style.paddingRight=t+"px",function(){var e=document.getElementById("right-panel"),t=e.style.width;if(t){var n=d3.select(e).style("min-width").slice(0,-2);parseInt(t.slice(0,-2),10)>parseInt(n,10)||(e.style.width="")}}(),ve()}(e),c()}var V,X=[];function Q(){return X}function ee(e,t,n){return{lat:e,lng:t,plots:n||["baseline","2015","thresholds"]}}function te(t,n,r){var a,o,i=function(t,n){var r=parseFloat(t.lat).toFixed(3),a=parseFloat(t.lng).toFixed(3),o=document.createElement("div"),i=document.createElement("div");o.appendChild(i);var l=function(e){var t=document.createElement("button");return t.classList.add("btn"),t.classList.add("pan-to-marker-btn"),t.textContent="Show On Map",t.onclick=function(e,t){ae().panTo([e.lat,e.lng]),ga("send","event",{eventCategory:"graph",eventAction:"click",eventLabel:'{"show on map":{"lat":'+e.lat+',"long":'+e.lng+"}}",nonInteraction:!1})}.bind(t,e),t}(t),s=document.createTextNode("Lat: "+r+", Long: "+a),c=document.createElement("div");c.className="graph-lat-lon",c.appendChild(s),i.appendChild(l),i.appendChild(c);var p=document.createElement("div");return p.classList.add("graph-loading-div"),o.appendChild(p),o.classList.add("graph-elem"),o.classList.add("graph-loading"),i.classList.add("graph-elem-header"),document.getElementById("graph-list").appendChild(o),function(t,n,r){var a=r.serviceUrl.prod+"?lng="+t.lng+"&lat="+t.lat,o=e((function(e){O(n,t,e)}));o.open("GET",a),o.send()}(t,o,n),o}(n,r),l=(a=n.lat,o=n.lng,L.marker([a,o],{icon:G}));n.graphDiv=i,n.marker=l,l.addTo(t),function(e,t,n,r){var a=function(){var e=document.createElement("button");return e.className="remove-graph",e.innerText=String.fromCharCode("10005"),e.setAttribute("title","Remove graph"),e}();t.getElementsByClassName("graph-elem-header")[0].appendChild(a),d3.select(a).on("click",(function(){var a;ga("send","event",{eventCategory:"graph",eventAction:"click",eventLabel:"remove",nonInteraction:!1}),a=r,X=X.filter((function(e){return!(e===a)})),function(e,t,n){document.getElementById("graph-list").removeChild(t),e.removeLayer(n),c()}(e,t,n),ve(),c()}))}(t,i,l,n),d3.select(i).on("mouseenter",(function(e){l.setIcon(U("hover"))})),d3.select(i).on("mouseleave",(function(){l.setIcon(U("graph"))})),l.on("click dblclick",(function(e){!function(e,t){e.originalEvent.stopPropagation(),J("graphs-active"),function(e){document.getElementById("right-panel").scrollTop=e.graphDiv.offsetTop}(t),function(e){e.graphDiv.getElementsByClassName("pan-to-marker-btn")[0].classList.add("animate")}(t)}(e,n)})),l.on("mouseover",(function(e){l.setIcon(U("hover"))})),l.on("mouseout",(function(e){l.setIcon(U("graph")),n.graphDiv.getElementsByClassName("pan-to-marker-btn")[0].classList.remove("animate")}))}function ne(){!function(){var e=ae();X.forEach((function(t){e.removeLayer(t.marker)})),X=[]}(),function(){for(var e=document.getElementById("graph-list");e.firstChild;)e.removeChild(e.firstChild)}(),function(){for(;ie.length;){var e=ie.pop();e.active=!1,se(e),document.getElementById(e.id).checked=!1,be(e)}}(),ve(),c()}function re(e){var t=e.id||"map",n=e.options||{scrollWheelZoom:!1},r=e.center||["38.5","-81"],a=e.zoom||6;return V=L.map(t,n).setView(r,a),L.control.attribution().addTo(V),document.getElementsByClassName("leaflet-control-zoom-in")[0].addEventListener("click",(function(){ga("send","event",{eventCategory:"map",eventAction:"click button",eventLabel:"zoom in",nonInteraction:!1})})),document.getElementsByClassName("leaflet-control-zoom-out")[0].addEventListener("click",(function(){ga("send","event",{eventCategory:"map",eventAction:"click button",eventLabel:"zoom out",nonInteraction:!1})})),V.on("dragend",(function(e){ga("send","event",{eventCategory:"map",eventAction:"drag",eventLabel:JSON.stringify(V.getBounds()),nonInteraction:!0})})),V.on("zoomend",(function(e){ga("send","event",{eventCategory:"map",eventAction:"zoom",eventLabel:JSON.stringify(V.getBounds()),nonInteraction:!0})})),V}function ae(){return V}var oe=[],ie=[];function le(e){var t=ae();e.active=!0,e.mapLayer=e.mapLayer||function(e){return L.tileLayer.wms(e.url,{layers:e.id,transparent:e.transparent||!0,version:e.version||"1.3.0",crs:e.crs||L.CRS.EPSG3857,format:e.format||"image/png",opacity:e.opacity||.75,tileSize:e.tileSize||document.getElementById("map").clientWidth})}(e),t.addLayer(e.mapLayer),function(e){oe.push(e.id),ie.push(e)}(e),function(){var e,t,n;for(t=0,n=ie.length;t<n;t++)"overlay"===(e=ie[t]).type&&e.mapLayer.bringToFront()}(),c()}function se(e){var t=ae();e.active=!1,e.mapLayer&&t.hasLayer(e.mapLayer)&&t.removeLayer(e.mapLayer),function(e){var t=oe.indexOf(e.id);-1!==t&&(oe.splice(t,1),ie.splice(t,1))}(e),c()}function ce(e,t){e.opacity=t,e.mapLayer.setOpacity(t)}var pe=d3.scaleLinear().domain([1,0]).range([0,90]).clamp(!0);function de(e,t,n){n=n||e.opacity,t.style.top=pe(n)+"px"}function ue(e){var t=d3.mouse(e)[1];return pe.invert(t)}var he,fe=[];function ge(e,t){fe=t["layer-groups-order"],he=function(e){return d3.select("#layer-list").selectAll(".layer-group-wrapper").data(e).enter().append("div").attr("class","layer-group-wrapper").attr("id",(function(e){return e.id})).classed("active",(function(e){return e.active})).each((function(e){var t=d3.select(this).append("div").attr("class","layer-group-btn btn").on("click",(function(e){ga("send","event",{eventCategory:"layer list",eventAction:"toggle "+!e.active,eventLabel:e.name,nonInteraction:!1}),e.active=!e.active,d3.select(this.parentNode).classed("active",(function(){return e.active})),ve(),c()})).text(e.name);ye(e,t)})).append("div").attr("class","layer-group")}(t["layer-groups-order"]),function(e,t){e.selectAll(".layer-select").data((function(e){return t[e.id]})).enter().append("div").attr("class","layer-select").each((function(e){this.parentNode.parentNode.id;var t=d3.select(this);e.layerDiv=t,e.hasOwnProperty("download"),function(e,t){t.append("input").attr("type","checkbox").attr("id",(function(e){return e.id})).attr("checked",(function(e){return e.active?"checked":null})).on("click",(function(e){!function(e){e.active?(se(e),ga("send","event",{eventCategory:"layer",eventAction:"toggle off",eventLabel:e.name,nonInteraction:!1})):(le(e),ga("send","event",{eventCategory:"layer",eventAction:"toggle on",eventLabel:e.name,nonInteraction:!1}))}(e),be(e)}))}(0,t),function(e,t){t.append("div").attr("class","layer-label-wrapper").append("label").attr("for",(function(e){return e.id})).attr("class","layer-label").html((function(e){return e.name}))}(0,t),ye(e,t),t.node().appendChild(function(e,t){var n=document.createElement("div");n.classList.add("layer-tools-wrapper"),e.active&&n.classList.add("active");var r=function(e){void 0!==e.opacity&&e.opacity;var t=document.createElement("div"),n=function(e,t){var n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");return n.classList.add("opacity-slider-track-overlay"),r.classList.add("opacity-slider-track"),a.classList.add("opacity-slider-handle"),n.appendChild(r),n.appendChild(a),e.active&&de(e,a),function(e,t,n){d3.select(e).call(d3.drag().on("start drag",(function(){var n=e.getElementsByClassName("opacity-slider-handle")[0],r=ue(e);ce(t,r),de(t,n,r)})).on("end",(function(){var n=ue(e);ga("send","event",{eventCategory:"opacity slider",eventAction:"change",eventLabel:'{"'+t.name+'": "'+n+'"}',nonInteraction:!1}),c()})))}(n,e),n}(e),r=function(e,t,n){var r=document.createElement("div"),a=document.createElement("img");return r.classList.add("opacity-icon-wrapper"),a.classList.add("opacity-icon"),a.classList.add(e),a.setAttribute("src","imgs/opacity-icon-closed-64x64.png"),a.setAttribute("alt","Use this slider to adjust transparency for the "+t.name+" layer"),a.setAttribute("title","Use this slider to adjust transparency for the "+t.name+" layer"),r.appendChild(a),r.onclick=function(e){var r=n.getElementsByClassName("opacity-slider-handle")[0];ce(t,0),de(t,r,0)},r}("closed",e,n);return t.classList.add("opacity-slider-wrapper"),t.appendChild(n),t.appendChild(r),t}(e),a=function(e,t){var n=document.createElement("div"),r=document.createElement("img");return n.classList.add("legend-wrapper"),r.setAttribute("src",e.legend),n.appendChild(r),n}(e);return n.appendChild(a),n.appendChild(r),n}(e))}))}(he,e),function(){if(!((e=window.navigator.userAgent).indexOf("MSIE")>-1||e.indexOf("rv:11.0")>-1)){var e,t=d3.select("#right-panel-drag-overlay");t.style("cursor","ew-resize"),t.call(d3.drag().on("drag",(function(){me.call(this)})))}}(),document.getElementById("right-panel").onscroll=ve}function me(){var e,t,n,r,a,o;ve(),t=+(e=d3.select("#right-panel")).style("min-width").slice(0,-2),n=e.property("clientWidth"),r=document.getElementById("wrapper").clientWidth,a=document.getElementById("map-wrapper"),o=(o=n+(r-d3.event.sourceEvent.x-n))<t?t:o>r?r:o,a.style.paddingRight="".concat(o)+"px",e.style("width","".concat(o)+"px")}function ve(){var e,t=d3.select("#right-panel"),n=t.property("offsetHeight"),r=document.getElementById("right-panel-drag-overlay"),a=document.getElementById("right-panel-header");if(t.classed("graphs-active")){var o=document.getElementById("graph-list");e=a.scrollHeight+o.scrollHeight+700}else{var i=document.getElementById("layer-list");e=a.scrollHeight+i.scrollHeight}e=e>n?"".concat(e)+"px":null,r.style.height=e}function be(e){if(e.layerDiv.select(".layer-tools-wrapper").classed("active",e.active),e.active){var t=e.layerDiv.select(".opacity-slider-handle").node();de(e,t,e.opacitiy)}}function ye(e,t){var n=!0===t.classed("layer-group-btn"),r=n?"imgs/more-info-icon-64x64--white.png":"imgs/more-info-icon-64x64.png",a=n?"imgs/download-icon-v2-64x64-white.png":"imgs/download-icon-v2-64x64.png";e.download&&t.append("div").attr("class","download-btn-wrapper").append("a").attr("href",e.download).attr("title","download data for the layer "+e.name).append("img").attr("class","download-icon").attr("src",a).attr("alt","dowdownload data for the layer "+e.name).attr("title","download data for the layer "+e.name),e.info&&""!==e.info&&(t.append("div").attr("class","layer-info-btn-wrapper").on("click",(function(){d3.event.stopPropagation(),d3.select(this.parentNode).select(".layer-info-wrapper").classed("active",(function(){return ga("send","event",{eventCategory:"layer info",eventAction:"clicked",eventLabel:e.name+" "+!d3.select(this).classed("active"),nonInteraction:!1}),!d3.select(this).classed("active")}))})).append("img").attr("class","layer-info-icon").attr("src",r).attr("alt","Read more about the "+e.name+" layer").attr("title","Read more about the "+e.name+" layer"),t.append("div").attr("class","layer-info-wrapper").text((function(e){return e.info})))}function xe(){d3.event.stopPropagation(),ne(),ga("send","event",{eventCategory:"mobile clearmap",eventAction:"click",eventLabel:"Mobile Clear Map",nonInteraction:!1})}function we(){d3.event.stopPropagation();var e=d3.select("#wrapper"),t=e.classed("mobile-menu-hidden");e.classed("mobile-menu-hidden",!t),function(e){ga("send","event",{eventCategory:"mobile menu",eventAction:"click",eventLabel:"Mobile Panel Toggle"+e,nonInteraction:!1})}(t?"closing":"opening")}function ke(e){d3.event.stopPropagation(),ne(),ga("send","event",{eventCategory:"desktop",eventAction:"click",eventLabel:"Clear Map Btn",nonInteraction:!1})}function Ee(e){d3.event.stopPropagation();var t=d3.select("#wrapper"),n=t.classed("panel-active");t.classed("panel-active",!n),t.classed("panel-inactive",n),ae().invalidateSize({pan:!1}),function(e){ga("send","event",{eventCategory:"desktop",eventAction:"click",eventLabel:"Panel Toggle "+e,nonInteraction:!1})}(n?"Close":"Open")}var Ce=n(379),Le=n.n(Ce),_e=n(795),Oe=n.n(_e),Ae=n(569),Pe=n.n(Ae),je=n(565),Ie=n.n(je),Se=n(216),Ne=n.n(Se),Be=n(589),ze=n.n(Be),Te=n(524),Me={};Me.styleTagTransform=ze(),Me.setAttributes=Ie(),Me.insert=Pe().bind(null,"head"),Me.domAPI=Oe(),Me.insertStyleElement=Ne(),Le()(Te.Z,Me),Te.Z&&Te.Z.locals&&Te.Z.locals,window.print=function(e){return console&&console.log(e)};var Re=function(t){var n,r;n=t,(r=function(){var e=window.location.search;if(""!==e)return function(e){e.center&&(e.center=e.center.split(",")),e.layers&&(e.layers=function(e){var t,n,r={enabledLayers:[],opacityVals:{}};for(e=e.split(","),n=0;n<e.length;n+=2)t=e[n],r.enabledLayers.push(t),r.opacityVals[t]=e[n+1];return r}(e.layers)),e.baselayers&&(e.baselayers=e.baselayers.split(",")),e.pois&&(e.pois=e.pois.split(";").filter((function(e){return""!==e})).map((function(e){return(e=e.split(",")).length>2?ee(e[0],e[1],e.splice(2)):ee(e[0],e[1],null)}))),e.layerGroups&&(e.layerGroups=e.layerGroups.split(","))}(e=function(e){var t,n,r={};for(n=0;n<e.length;n++)r[(t=e[n].split("="))[0]]=t[1];return r}(e=function(e){return(e=function(e){return e.replace(/\%2[c|C]/g,",").replace(/\%3[b|B]/g,";")}(e=e.substring(1))).split("&")}(e))),e}())&&(r.center&&(n.map.center=r.center),r.zoom&&(n.map.zoom=r.zoom),r.layers&&function(e,t){var n,r,a,o,i,l,s=e.enabledLayers;t["active-layers"]=s;var c=t.layers;for(n=0;n<s.length;n++)for(a in l=!1,i=s[n],c){if(!c.hasOwnProperty(a))return;for(o=c[a],r=0;r<o.length;r++)if(o[r].id===i){o[r].opacity=e.opacityVals[i],l=!0;break}if(l)break}}(r.layers,n),r.baselayers&&function(e,t){var n,r,a=t.baselayers;for(r=0;r<a.length;r++)(n=a[r]).active=-1!==e.indexOf(n.id)}(r.baselayers,n),r.pois&&function(e,t){t.pois=e}(r.pois,n),r.tab&&(n.tab=r.tab),r.graph&&(n.graph=r.graph),r.layerGroups&&(n.layerGroups=function(e,t){t.layout["layer-groups-order"].forEach((function(t){t.active=e.filter((function(e){return e===t.id})).length>0}))}(r.layerGroups,n)));var i=re(t.map);(function(e,t){var n,r,o;for(a=t=t||[{id:"carto-light-default",url:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attributions">CARTO</a>'}],n=0;n<t.length;n++)(o=t[n]).active&&(r=s(o),o.layer=r,r.addTo(e));!function(e){var t,n,r,a,o=document.createElement("div");o.className="baselayer-ui";for(var i=0,s=e.length;i<s;i++)(a=e[i]).hasOwnProperty("image")&&((t=document.createElement("div")).setAttribute("data-layer",a.id),(n=document.createElement("img")).setAttribute("src",a.image),n.setAttribute("alt",a.label),n.setAttribute("title",a.label),(r=document.createElement("div")).textContent=a.label,t.appendChild(n),t.appendChild(r),t.addEventListener("click",l),d3.select(t).classed("base-selector",!0).classed("active",a.active),o.appendChild(t));document.getElementsByClassName("leaflet-bottom leaflet-left")[0].appendChild(o)}(t)})(i,t.baselayers),function(e,t){var n,r,a,o,i,l;if(t&&0!==t.length)for(n=0;n<t.length;n++)for(a in l=!1,i=t[n],e){if(!e.hasOwnProperty(a))return;for(o=e[a],r=0;r<o.length;r++)if(o[r].id===i){le(o[r]),l=!0;break}if(l)break}}(t.layers,t["active-layers"]),ge(t.layers,t.layout),function(e){var t=new o.Zm,n=new o.C1({provider:t,showMarker:!1,autoComplete:!0,showPopup:!1});e.addControl(n);var r=n.searchElement.elements;L.DomEvent.on(r.container,"click",(function(e){L.DomEvent.stopPropagation(e);for(var t=r.form.getElementsByClassName("results")[0].children,n=0;n<t.length;n++)e.target===t[n]&&r.container.classList.remove("active");ga("send","event",{eventCategory:"map",eventAction:"search",eventLabel:"click",nonInteraction:!1})})),L.DomEvent.on(r.container,"keydown",(function(e){L.DomEvent.stopPropagation(e),13!=e.which&&13!=e.keyCode||(r.container.classList.remove("active"),ga("send","event",{eventCategory:"map",eventAction:"search address",eventLabel:e.target.value,nonInteraction:!1}))}))}(i),function(e){if(e.image){var t=function(){var e=document.createElement("div");return d3.select(e).classed("project-logo",!0),e}(),n=function(e){var t=document.createElement("img");return t.setAttribute("src",e.image),e.label&&(t.setAttribute("alt",e.label),t.setAttribute("title",e.label)),t}(e),r=e.link?function(e){var t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("target","_blank"),t.addEventListener("click",(function(){ga("send","event",{eventCategory:"map",eventAction:"click",eventLabel:"landat logo",nonInteraction:!1})})),t}(e.link):null;r?(r.appendChild(n),t.appendChild(r)):t.appendChild(n);var a=document.getElementsByClassName(e.location)[0],o=a.firstChild;a.insertBefore(t,o)}}(t.logo),t.tab&&J(t.tab),t.graph&&I(t.graph),function(e,t){e.on("click",(function(e){var n=e.latlng.lat,r=e.latlng.lng,a=ee(n,r,null);!function(e){X.push(e)}(a),te(this,a,t),c(),ga("send","event",{eventCategory:"map",eventAction:"click",eventLabel:JSON.stringify({action:"add map marker",lat:n,long:r}),nonInteraction:!1})}))}(i,t.graphs),function(e){e.on("moveend",c)}(i),function(e,t,n){!function(e){Array.prototype.push.apply(X,e)}(t);var r=Q();e=ae(),r.forEach((function(t){te(e,t,n)}))}(i,t.pois,t.graphs),c(),function(t,n){var r=t.serviceUrl[n];d3.selectAll(".graph-type-btn").on("click",j),Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100!=0||e%400==0)},Date.prototype.getDOY=function(){var e=this.getMonth(),t=this.getDate(),n=[0,31,59,90,120,151,181,212,243,273,304,334][e]+t;return e>1&&this.isLeapYear()&&n++,n};var a=r+"?lng=-82.5515&lat=35.5951",o=e((function(){}));o.open("GET",a),o.send()}(t.graphs,"prod")};function De(){return"prod"}window.Base=function(n){(function(n,r){!function(n,r){var a=e((function(e){var n=function(e){return function(e){e.map||(e.map={})}(e=JSON.parse(e)),function(e){var n,r,a,o,i=e.layers,l=e.mapserverUrl.prod;for(var s in e["active-layers"],i){if(!i.hasOwnProperty(s))return;for(n=i[s],r=0;r<n.length;r++)o=l,(a=n[r]).url=a.url||o,t(n[r],e.defaultLayerOpacity)}}(e),e}(e);r(n)}));a.open("GET",n,!0),a.send()}(n,r)})(n,Re),d3.selectAll(".panel-top-btn").on("click",W),d3.select(document).on("click",p),d3.select(".shareurl-link a").on("click",d),d3.select(".shareurl-link-url").on("click",h),d3.select(".shareurl-link-popup-remover").on("click",u),d3.select("#mobile-toggle-panel-button").on("click",we),d3.selectAll("#mobile-clear-map-button").on("click",xe),d3.select("#toggle-panel-button").on("click",Ee),d3.selectAll("#clear-map-button").on("click",ke)}})()})();